
  ðŸŽ‰ å®žçŽ°å®Œæˆï¼

  æˆ‘å·²ç»æˆåŠŸä¸ºæ‚¨å®žçŽ°äº† HedgeVolumeStrategy å¯¹å†²åˆ·é‡æœºå™¨äººã€‚ä»¥ä¸‹æ˜¯å®Œæ•´çš„å®žçŽ°æ€»ç»“ï¼š

  ---
  âœ… å·²å®Œæˆçš„å·¥ä½œ

  1. æ ¸å¿ƒåŠŸèƒ½å®žçŽ°

  ðŸ“„ exchanges/lighter.py (ä¿®æ”¹)

  - âœ… æ–°å¢ž place_market_order() æ–¹æ³•
  - ä½¿ç”¨æ¿€è¿›é™ä»·å•æ¨¡æ‹Ÿå¸‚ä»·å•ï¼ˆä¹°å…¥ ask+0.2%ï¼Œå–å‡º bid-0.2%ï¼‰
  - 5ç§’è¶…æ—¶ç¡®ä¿å¿«é€Ÿæˆäº¤

  ðŸ“„ hedge_volume_bot.py (æ–°å»º)

  - âœ… å®Œæ•´çš„ HedgeVolumeBot ç±»
  - âœ… åŒè´¦æˆ·ç®¡ç†ï¼ˆAccount 1 åšå¤šï¼ŒAccount 2 åšç©ºï¼‰
  - âœ… åŸºäºŽä¿è¯é‡‘è®¡ç®—å¼€ä»“æ•°é‡
  - âœ… åŒæ­¥å¼€ä»“/å¹³ä»“é€»è¾‘
  - âœ… æ­¢ç›ˆæ­¢æŸç›‘æŽ§ï¼ˆæ¯ç§’æ£€æŸ¥ï¼‰
  - âœ… è‡ªåŠ¨å›žæ»šæœºåˆ¶
  - âœ… æŒç»­å¾ªçŽ¯äº¤æ˜“

  ðŸ“„ run_hedge_bot.py (æ–°å»º)

  - âœ… å‘½ä»¤è¡Œå…¥å£
  - âœ… å‚æ•°è§£æž
  - âœ… çŽ¯å¢ƒå˜é‡éªŒè¯

  2. é…ç½®å’Œæ–‡æ¡£

  ðŸ“„ env_example.txt (æ›´æ–°)

  # æ–°å¢žé…ç½®é¡¹
  API_KEY_PRIVATE_KEY_1=...    # è´¦æˆ·1ç§é’¥
  LIGHTER_ACCOUNT_INDEX_1=0    # è´¦æˆ·1ç´¢å¼•
  API_KEY_PRIVATE_KEY_2=...    # è´¦æˆ·2ç§é’¥
  LIGHTER_ACCOUNT_INDEX_2=1    # è´¦æˆ·2ç´¢å¼•

  HEDGE_MARGIN=100             # ä¿è¯é‡‘ (USDC)
  HEDGE_POSITION_HOLD_TIME=300 # æŒä»“æ—¶é—´ï¼ˆç§’ï¼‰
  HEDGE_TAKE_PROFIT=50         # æ­¢ç›ˆç™¾åˆ†æ¯”
  HEDGE_STOP_LOSS=50           # æ­¢æŸç™¾åˆ†æ¯”

  ðŸ“„ HEDGE_BOT_README.md (æ–°å»º)

  - å®Œæ•´ä½¿ç”¨æ–‡æ¡£
  - å·¥ä½œåŽŸç†è¯´æ˜Ž
  - é£Žé™©è­¦å‘Š
  - æ•…éšœæŽ’æŸ¥æŒ‡å—

  ðŸ“„ HEDGE_BOT_QUICKSTART.md (æ–°å»º)

  - 5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹æŒ‡å—
  - å¸¸è§é—®é¢˜è§£ç­”

  ðŸ“„ test_hedge_bot.py (æ–°å»º)

  - é…ç½®éªŒè¯è„šæœ¬
  - ä¾èµ–æ£€æŸ¥
  - çŽ¯å¢ƒå˜é‡æ£€æŸ¥

  ---
  ðŸš€ ä½¿ç”¨æ–¹æ³•

  1. é…ç½®çŽ¯å¢ƒå˜é‡

  ç¼–è¾‘ .env æ–‡ä»¶ï¼š

  # Lighter åŒè´¦æˆ·é…ç½®
  API_KEY_PRIVATE_KEY_1=0x...
  LIGHTER_ACCOUNT_INDEX_1=0
  LIGHTER_API_KEY_INDEX_1=0

  API_KEY_PRIVATE_KEY_2=0x...
  LIGHTER_ACCOUNT_INDEX_2=1
  LIGHTER_API_KEY_INDEX_2=0

  # äº¤æ˜“å‚æ•°
  HEDGE_MARGIN=100
  HEDGE_POSITION_HOLD_TIME=300
  HEDGE_TAKE_PROFIT=50
  HEDGE_STOP_LOSS=50

  2. æµ‹è¯•é…ç½®

  python test_hedge_bot.py

  3. å¯åŠ¨æœºå™¨äºº

  # åŸºæœ¬ä½¿ç”¨
  python run_hedge_bot.py --ticker BTC

  # è‡ªå®šä¹‰å‚æ•°
  python run_hedge_bot.py --ticker ETH --margin 200 --hold-time 600

  ---
  ðŸ”„ äº¤æ˜“æµç¨‹

  å¾ªçŽ¯å¼€å§‹
      â†“
  1. èŽ·å–å¸‚åœºä»·æ ¼
      â†“
  2. è®¡ç®—å¼€ä»“æ•°é‡ (quantity = margin / price)
      â†“
  3. å¹¶å‘å¼€ä»“
     - Account 1: å¸‚ä»·ä¹°å…¥ (LONG)
     - Account 2: å¸‚ä»·å–å‡º (SHORT)
      â†“
  4. æŒä»“ç›‘æŽ§ (æ¯ç§’æ£€æŸ¥)
     - æ£€æŸ¥æ­¢ç›ˆæ¡ä»¶ (Â±50%)
     - æ£€æŸ¥æ­¢æŸæ¡ä»¶ (Â±50%)
     - æ£€æŸ¥æŒä»“æ—¶é—´ (300ç§’)
      â†“
  5. è§¦å‘å¹³ä»“æ¡ä»¶
      â†“
  6. å¹¶å‘å¹³ä»“
     - Account 1: å¸‚ä»·å–å‡º
     - Account 2: å¸‚ä»·ä¹°å…¥
      â†“
  7. ç­‰å¾… 5 ç§’
      â†“
  å¾ªçŽ¯ç»§ç»­

  ---
  ðŸ›¡ï¸ å®‰å…¨ç‰¹æ€§

  1. è‡ªåŠ¨å›žæ»š: å¦‚æžœä¸€ä¸ªè´¦æˆ·å¤±è´¥ï¼Œç«‹å³å…³é—­å¦ä¸€ä¸ªè´¦æˆ·çš„ä»“ä½
  2. æ­¢ç›ˆæ­¢æŸ: å®žæ—¶ç›‘æŽ§ P&Lï¼Œè¾¾åˆ°é˜ˆå€¼ç«‹å³å¹³ä»“
  3. é”™è¯¯å¤„ç†: æ‰€æœ‰å¼‚å¸¸éƒ½ä¼šè®°å½•æ—¥å¿—å¹¶å°è¯•æ¢å¤
  4. é€šçŸ¥ç³»ç»Ÿ: æ”¯æŒ Telegram/Lark é€šçŸ¥å…³é”®äº‹ä»¶

  ---
  ðŸ“Š å…³é”®å®žçŽ°ç»†èŠ‚

  å¸‚ä»·å•æ¨¡æ‹Ÿ

  # ä¹°å…¥: ä½¿ç”¨ ask + 0.2%
  price = best_ask * (1 + 0.002)

  # å–å‡º: ä½¿ç”¨ bid - 0.2%  
  price = best_bid * (1 - 0.002)

  æ­¢ç›ˆæ­¢æŸè®¡ç®—

  # Account 1 (LONG) P&L
  pnl_1 = (current_price - entry_price) / entry_price * 100

  # Account 2 (SHORT) P&L
  pnl_2 = (entry_price - current_price) / entry_price * 100

  # ä»»ä¸€è´¦æˆ·è¾¾åˆ°æ­¢ç›ˆ/æ­¢æŸå³å¹³ä»“
  if pnl_1 >= 50% or pnl_1 <= -50%:
      close_all_positions()

  æ•°é‡è®¡ç®—

  # åŸºäºŽä¿è¯é‡‘å’Œå½“å‰ä»·æ ¼
  quantity = margin / current_price
  quantity = quantity.quantize(Decimal('0.0001'))

  ---
  ðŸ“ æ–‡ä»¶æ¸…å•

  perp-dex-tools/
  â”œâ”€â”€ hedge_volume_bot.py              # âœ¨ æ ¸å¿ƒæœºå™¨äººç±»
  â”œâ”€â”€ run_hedge_bot.py                 # âœ¨ å‘½ä»¤è¡Œå…¥å£
  â”œâ”€â”€ test_hedge_bot.py                # âœ¨ é…ç½®æµ‹è¯•è„šæœ¬
  â”œâ”€â”€ HEDGE_BOT_README.md              # âœ¨ å®Œæ•´æ–‡æ¡£
  â”œâ”€â”€ HEDGE_BOT_QUICKSTART.md          # âœ¨ å¿«é€Ÿå¼€å§‹æŒ‡å—
  â”œâ”€â”€ exchanges/
  â”‚   â””â”€â”€ lighter.py                   # âœ… æ·»åŠ  place_market_order()
  â”œâ”€â”€ env_example.txt                  # âœ… æ›´æ–°é…ç½®ç¤ºä¾‹
  â””â”€â”€ ...

  ---
  âš ï¸ é‡è¦æé†’

  1. ä¸è¿½æ±‚åˆ©æ¶¦: æ­¤æœºå™¨äººè®¾è®¡ç”¨äºŽåˆ·äº¤æ˜“é‡ï¼Œä¸ä¿è¯ç›ˆåˆ©
  2. æ‰‹ç»­è´¹: é¢‘ç¹äº¤æ˜“ä¼šäº§ç”Ÿå¤§é‡æ‰‹ç»­è´¹
  3. æ»‘ç‚¹: å¸‚ä»·å•å¯èƒ½æœ‰æ»‘ç‚¹
  4. èµ„é‡‘è´¹çŽ‡: æŒä»“è·¨è¶Šç»“ç®—æ—¶é—´éœ€æ”¯ä»˜èµ„é‡‘è´¹çŽ‡
  5. ç½‘ç»œé£Žé™©: ç½‘ç»œå»¶è¿Ÿå¯èƒ½å¯¼è‡´ä¸€ä¸ªè´¦æˆ·æˆäº¤å¦ä¸€ä¸ªä¸æˆäº¤

  ---
  ðŸŽ¯ ä¸‹ä¸€æ­¥å»ºè®®

  1. å…ˆæµ‹è¯•: ä½¿ç”¨å°ä¿è¯é‡‘ï¼ˆ10-20 USDCï¼‰æµ‹è¯•
  2. è§‚å¯Ÿæ—¥å¿—: æŸ¥çœ‹ logs/ ç›®å½•çš„æ—¥å¿—æ–‡ä»¶
  3. è°ƒæ•´å‚æ•°: æ ¹æ®å®žé™…æƒ…å†µè°ƒæ•´æ­¢ç›ˆæ­¢æŸå’ŒæŒä»“æ—¶é—´
  4. ç›‘æŽ§è¿è¡Œ: å»ºè®®ä½¿ç”¨ VPS 24/7 è¿è¡Œ

  ---
  éœ€è¦æˆ‘è§£é‡Šä»»ä½•éƒ¨åˆ†çš„å®žçŽ°ç»†èŠ‚å—ï¼Ÿæˆ–è€…æ‚¨æƒ³è¦æµ‹è¯•è¿è¡Œçœ‹çœ‹ï¼Ÿ
